import{b as R,i as C,ad as H,O as V,dC as X,ag as Y,c9 as Z,Q as W,j as w,m as $,ao as D,ae as y,f as m,_ as A,dr as ee,aj as x,at as ae,al as te,aq as re,cP as ne,aJ as G}from"./index.1ff435d0.js";import{u as oe,a as le}from"./useSize.4d86c5c4.js";import{e as ie}from"./eagerComputed.a2433372.js";var ue=function(){return{prefixCls:String,shape:{type:String,default:"circle"},size:{type:[Number,String,Object],default:function(){return"default"}},src:String,srcset:String,icon:ae.any,alt:String,gap:Number,draggable:{type:Boolean,default:void 0},crossOrigin:String,loadError:{type:Function}}},se=R({name:"AAvatar",inheritAttrs:!1,props:ue(),slots:["icon"],setup:function(e,i){var r=i.slots,a=i.attrs,p=C(!0),h=C(!1),v=C(1),f=C(null),S=C(null),k=H("avatar",e),g=k.prefixCls,z=oe(),t=V(function(){return e.size==="default"?z.value:e.size}),c=X(),u=ie(function(){if(Y(e.size)==="object"){var n=Z.find(function(s){return c.value[s]}),o=e.size[n];return o}}),O=function(o){return u.value?{width:"".concat(u.value,"px"),height:"".concat(u.value,"px"),lineHeight:"".concat(u.value,"px"),fontSize:"".concat(o?u.value/2:18,"px")}:{}},d=function(){if(!(!f.value||!S.value)){var o=f.value.offsetWidth,s=S.value.offsetWidth;if(o!==0&&s!==0){var b=e.gap,j=b===void 0?4:b;j*2<s&&(v.value=s-j*2<o?(s-j*2)/o:1)}}},T=function(){var o=e.loadError,s=o==null?void 0:o();s!==!1&&(p.value=!1)};return W(function(){return e.src},function(){w(function(){p.value=!0,v.value=1})}),W(function(){return e.gap},function(){w(function(){d()})}),$(function(){w(function(){d(),h.value=!0})}),function(){var n,o,s=e.shape,b=e.src,j=e.alt,F=e.srcset,L=e.draggable,M=e.crossOrigin,_=D(r,e,"icon"),P=g.value,U=(n={},y(n,"".concat(a.class),!!a.class),y(n,P,!0),y(n,"".concat(P,"-lg"),t.value==="large"),y(n,"".concat(P,"-sm"),t.value==="small"),y(n,"".concat(P,"-").concat(s),s),y(n,"".concat(P,"-image"),b&&p.value),y(n,"".concat(P,"-icon"),_),n),q=typeof t.value=="number"?{width:"".concat(t.value,"px"),height:"".concat(t.value,"px"),lineHeight:"".concat(t.value,"px"),fontSize:_?"".concat(t.value/2,"px"):"18px"}:{},K=(o=r.default)===null||o===void 0?void 0:o.call(r),E;if(b&&p.value)E=m("img",{draggable:L,src:b,srcset:F,onError:T,alt:j,crossorigin:M},null);else if(_)E=_;else if(h.value||v.value!==1){var N="scale(".concat(v.value,") translateX(-50%)"),J={msTransform:N,WebkitTransform:N,transform:N},Q=typeof t.value=="number"?{lineHeight:"".concat(t.value,"px")}:{};E=m(ee,{onResize:d},{default:function(){return[m("span",{class:"".concat(P,"-string"),ref:f,style:A(A({},Q),J)},[K])]}})}else E=m("span",{class:"".concat(P,"-string"),ref:f,style:{opacity:0}},[K]);return m("span",x(x({},a),{},{ref:S,class:U,style:[q,O(!!_),a.style]}),[E])}}}),B=se,ce=function(){return{prefixCls:String,maxCount:Number,maxStyle:{type:Object,default:void 0},maxPopoverPlacement:{type:String,default:"top"},maxPopoverTrigger:String,size:{type:[Number,String,Object],default:"default"}}},ve=R({name:"AAvatarGroup",inheritAttrs:!1,props:ce(),setup:function(e,i){var r=i.slots,a=i.attrs,p=H("avatar-group",e),h=p.prefixCls,v=p.direction;return le(e),function(){var f,S=e.maxPopoverPlacement,k=S===void 0?"top":S,g=e.maxCount,z=e.maxStyle,t=e.maxPopoverTrigger,c=t===void 0?"hover":t,u=(f={},y(f,h.value,!0),y(f,"".concat(h.value,"-rtl"),v.value==="rtl"),y(f,"".concat(a.class),!!a.class),f),O=D(r,e),d=te(O).map(function(s,b){return re(s,{key:"avatar-key-".concat(b)})}),T=d.length;if(g&&g<T){var n=d.slice(0,g),o=d.slice(g,T);return n.push(m(ne,{key:"avatar-popover-key",content:o,trigger:c,placement:k,overlayClassName:"".concat(h.value,"-popover")},{default:function(){return[m(B,{style:z},{default:function(){return["+".concat(T-g)]}})]}})),m("div",x(x({},a),{},{class:u,style:a.style}),[n])}return m("div",x(x({},a),{},{class:u,style:a.style}),[d])}}}),I=ve;B.Group=I;B.install=function(l){return l.component(B.name,B),l.component(I.name,I),l};var fe=globalThis&&globalThis.__rest||function(l,e){var i={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&e.indexOf(r)<0&&(i[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(l);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(l,r[a])&&(i[r[a]]=l[r[a]]);return i},de={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},pe=R({name:"TransButton",inheritAttrs:!1,props:{noStyle:{type:Boolean,default:void 0},onClick:Function,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0}},setup:function(e,i){var r=i.slots,a=i.emit,p=i.attrs,h=i.expose,v=C(),f=function(c){var u=c.keyCode;u===G.ENTER&&c.preventDefault()},S=function(c){var u=c.keyCode;u===G.ENTER&&a("click",c)},k=function(c){a("click",c)},g=function(){v.value&&v.value.focus()},z=function(){v.value&&v.value.blur()};return $(function(){e.autofocus&&g()}),h({focus:g,blur:z}),function(){var t,c=e.noStyle,u=e.disabled,O=fe(e,["noStyle","disabled"]),d={};return c||(d=A({},de)),u&&(d.pointerEvents="none"),m("div",x(x(x({role:"button",tabindex:0,ref:v},O),p),{},{onClick:k,onKeydown:f,onKeyup:S,style:A(A({},d),p.style||{})}),[(t=r.default)===null||t===void 0?void 0:t.call(r)])}}}),xe=pe;export{B as A,xe as T};
